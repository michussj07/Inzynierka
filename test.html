<!DOCTYPE HTML>
<html lang="pl">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>Interaktywne aplikacje internetowe</title>

    <meta name="description" content="Praca inżynierska prezemtująca działanie powiadomień push" />
    <meta name="keywords" content="powiadomienia, push, inżynierka, praca, dyplomowa" />
    <link href="https://fonts.googleapis.com/css?family=Charmonman:400,700|Lato&amp;subset=latin-ext" rel="stylesheet">
    <link href="style.css" rel="stylesheet" type="text/css">
    <script src="scripts/date.js"></script>
    <script src="scripts/push.js"></script>
    <script src="scripts/push.fcm.js"></script>
    <link rel="manifest" href="/manifest.json">


</head>

<body onLoad="wyswietlDane()">

<div class="logo">Interaktywne aplikacje internetowe </div>

<div id="dataLayer">
</div>

<div class="nav">
    <ol>
        <li><a href="index.html">Strona główna</a></li>
        <li><a href="testpowiadomien.html">Demo</a></li>
        <li><a href="test.html">Test pusha</a></li>
        <li><a href="firebase.html">Demo Firebase</a></li>
    </ol>
</div>

<div class="content">

    <h1>Test powiadomień push nr2</h1>
    <button id="notify-button">Notify Me!!</button><br>
    <button id="clear-button">Clear All!</button><br>
    <button id="check-button">Check Permission</button><br>
    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
</div>

<div class="footer">
    powiadomieniapush.000webhost.pl &copy; Wszystkie prawa zastrzeżone 2018
</div>

<script src="scripts/jquery-3.3.1.min.js"></script>
<script src="scripts/stickynav.js"></script>
<script>
    $("#notify-button").click(function(){
        Push.create("Hello world!",{
            body: "This is example of Push.js Tutorial",
            icon: '/Logo_small.png',
            link: "www.powiadomieniapsu.000webhost.pl",
            timeout: 2000,
            onClick: function () {
                window.focus();
                this.close();
            }
        });
    });
    $("#clear-button").click(function(){
        Push.clear();
    });
    $("#check-button").click(function(){
        console.log(Push.Permission.has());
    });

    // Initialize Firebase
    var config = {
        apiKey: "AIzaSyDwE5gwHnWTHA2exOMeQX_O7uHrQwISrRg",
        authDomain: "test-ff566.firebaseapp.com",
        databaseURL: "https://test-ff566.firebaseio.com",
        projectId: "test-ff566",
        storageBucket: "test-ff566.appspot.com",
        messagingSenderId: "774985156634"
    };
    Push.config({
        FCM: config
    });

    Push.FCM().then(function(FCM) {
        FCM.getToken().then(function(token) {
            console.log("Initialized with token " + token);
        }).catch(function(tokenError) {
            throw tokenError;
        });
    }).catch(function(initError) {
        throw initError;
    });
</script>


</body>
</html>